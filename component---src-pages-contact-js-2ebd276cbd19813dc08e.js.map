{"version":3,"sources":["webpack://chalk-v2/./src/pages/contact.js"],"names":["useState","status","setStatus","useForm","register","handleSubmit","className","Image","onSubmit","data","recipient","title","text","body","JSON","stringify","secret","fetch","API_ENDPOINT","method","then","response","ok","Error","statusText","catch","err","console","error","type","required","placeholder","rows","role","alt","Link","to","aria-label","href","target","rel","styled"],"mappings":"mMAsJA,UA9IgB,WACd,OAA4BA,cAAS,WAA9BC,EAAP,KAAeC,EAAf,KACA,GAAmCC,UAA3BC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAgClB,OACE,QAAC,IAAD,MACE,mBAASC,UAAU,kCACjB,mBAASA,UAAU,KACjB,cAAIA,UAAU,yDAAd,YACU,mBADV,OAIA,eAAKA,UAAU,aACb,QAACC,EAAD,CAAOD,UAAU,sCACjB,eAAKA,UAAU,yEAGnB,mBAASA,UAAU,gHACjB,gBACEE,SAAUH,GA7CH,SAACI,GAChBP,EAAU,WAEV,IAAQQ,EAA2BD,EAA3BC,UAAWC,EAAgBF,EAAhBE,MAAOC,EAASH,EAATG,KAEtBC,EAAOC,KAAKC,UAAU,CACxBL,YACAC,QACAC,OACAI,OAAQ,WAGVC,MAASC,IAAJ,eAAgC,CACnCC,OAAQ,OACRN,SAECO,MAAK,SAACC,GACL,IAAKA,EAASC,GACZ,MAAMC,MAAMF,EAASG,eAGxBJ,MAAK,WACJlB,EAAU,cAEXuB,OAAM,SAACC,GACNC,QAAQC,MAAMF,GACdxB,EAAU,eAoBNI,UAAU,wIAEE,YAAXL,IACC,cAAIK,UAAU,oFAAd,oBAIU,YAAXL,IACC,eAAKK,UAAU,4BACb,2BACMF,EAAS,SADf,CAEEyB,KAAK,OACLC,UAAQ,EACRC,YAAY,UACZzB,UAAU,mFAEZ,8BACMF,EAAS,QADf,CAEEyB,KAAK,OACLC,UAAQ,EACRC,YAAY,UACZzB,UAAU,yFACV0B,KAAM,OAER,2BACM5B,EAAS,aADf,CAEEyB,KAAK,QACLC,UAAQ,EACRC,YAAY,iBACZzB,UAAU,uDAEZ,kBAAQA,UAAU,mLAAlB,SAKQ,YAAXL,IACC,eAAKK,UAAU,wDACb,cAAIA,UAAU,gFACZ,gBAAM2B,KAAK,MAAMC,IAAI,mBAArB,KAEQ,IAHV,wEAOA,QAAC,EAAAC,KAAD,CACE7B,UAAU,kJACV8B,GAAG,KAFL,cAQQ,UAAXnC,IACC,eAAKK,UAAU,wDACb,cAAIA,UAAU,gFACZ,gBAAM2B,KAAK,MAAMI,aAAW,kBAA5B,MAEQ,IAHV,4BAMA,cAAI/B,UAAU,oFAAd,uEAEW,KACT,aACEA,UAAU,mCACVgC,KAAK,qCACLC,OAAO,SACPC,IAAI,eAEJ,gBAAMP,KAAK,MAAMI,aAAW,qBAA5B,MAEQ,IARV,QAHF,MAgBA,QAAC,EAAAF,KAAD,CACE7B,UAAU,kJACV8B,GAAG,KAFL,mBAiBhB,IAAM7B,EAAQkC,oBAAH,sDAAGA,CAAH","file":"component---src-pages-contact-js-2ebd276cbd19813dc08e.js","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useForm } from \"react-hook-form\";\nimport { API_ENDPOINT } from \"../utils/config\";\n\nimport { Link } from \"gatsby\";\nimport Layout from \"../components/Layout\";\n\nconst Contact = () => {\n  const [status, setStatus] = useState(\"initial\");\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = (data) => {\n    setStatus(\"loading\");\n\n    const { recipient, title, text } = data;\n\n    let body = JSON.stringify({\n      recipient,\n      title,\n      text,\n      secret: \"XmTpO1\",\n    });\n\n    fetch(`${API_ENDPOINT}/system/mail`, {\n      method: \"POST\",\n      body,\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw Error(response.statusText);\n        }\n      })\n      .then(() => {\n        setStatus(\"success\");\n      })\n      .catch((err) => {\n        console.error(err);\n        setStatus(\"error\");\n      });\n  };\n\n  return (\n    <Layout>\n      <section className=\"flex flex-col flex-grow pt-36\">\n        <section className=\"\">\n          <h1 className=\"pb-12 pl-8 text-5xl text-white uppercase font-heading\">\n            Contact <br />\n            Us\n          </h1>\n          <div className=\"relative\">\n            <Image className=\"bg-center bg-cover bg-gyms py-96\" />\n            <div className=\"absolute top-0 left-0 z-10 w-1 h-full mt-24 ml-24 bg-chalk-orange\" />\n          </div>\n        </section>\n        <section className=\"absolute top-0 left-0 z-30 flex justify-center w-screen min-h-screen px-2 mt-20 align-center pt-60 lg:py-60\">\n          <form\n            onSubmit={handleSubmit(onSubmit)}\n            className=\"container flex flex-col items-stretch justify-around p-8 px-4 mx-24 mx-auto border-2 lg:px-16 bg-chalk-dark-gray border-chalk-orange\"\n          >\n            {status === \"initial\" && (\n              <h1 className=\"flex items-center justify-center my-3 text-4xl text-white uppercase font-heading\">\n                Send us an email\n              </h1>\n            )}\n            {status === \"initial\" && (\n              <div className=\"flex flex-col flex-grow\">\n                <input\n                  {...register(\"title\")}\n                  type=\"text\"\n                  required\n                  placeholder=\"Subject\"\n                  className=\"flex items-start px-4 py-2 my-3 flex-start font-heading text-chalk-dark-gray\"\n                />\n                <textarea\n                  {...register(\"text\")}\n                  type=\"text\"\n                  required\n                  placeholder=\"Message\"\n                  className=\"flex items-start flex-grow px-4 py-2 my-3 flex-start font-heading text-chalk-dark-gray\"\n                  rows={10}\n                />\n                <input\n                  {...register(\"recipient\")}\n                  type=\"email\"\n                  required\n                  placeholder=\"your@email.com\"\n                  className=\"px-4 py-2 my-3 font-heading text-chalk-dark-gray\"\n                />\n                <button className=\"w-1/2 px-8 py-4 mx-auto my-4 mt-6 text-white uppercase transition border-2 border-white font-heading hover:text-chalk-dark-gray hover:bg-chalk-orange hover:border-chalk-orange\">\n                  Send\n                </button>\n              </div>\n            )}\n            {status === \"success\" && (\n              <div className=\"flex flex-col items-center justify-center flex-grow\">\n                <h2 className=\"flex items-center justify-center text-2xl text-white font-body font-heading\">\n                  <span role=\"img\" alt=\"check mark icon\">\n                    âœ…\n                  </span>{\" \"}\n                  All good! We'll get back to you as soon as we're finished\n                  climbing.\n                </h2>\n                <Link\n                  className=\"px-8 py-4 mx-auto my-4 mt-12 text-white uppercase transition border-2 border-white font-heading hover:border-chalk-orange hover:bg-chalk-orange\"\n                  to=\"/\"\n                >\n                  Back home\n                </Link>\n              </div>\n            )}\n            {status === \"error\" && (\n              <div className=\"flex flex-col items-center justify-center flex-grow\">\n                <h2 className=\"flex items-center justify-center text-2xl text-white font-body font-heading\">\n                  <span role=\"img\" aria-label=\"sad face emoji\">\n                    ðŸ˜•\n                  </span>{\" \"}\n                  Something went wrong...\n                </h2>\n                <h2 className=\"flex items-center justify-center mt-2 text-2xl text-white font-body font-heading\">\n                  Alternatively you can send us a good ol' fashioned email by\n                  clicking{\" \"}\n                  <a\n                    className=\"ml-2 font-bold text-chalk-orange\"\n                    href=\"mailto:info@chalk-technologies.com\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    <span role=\"img\" aria-label=\"point right emoji\">\n                      ðŸ‘‰\n                    </span>{\" \"}\n                    here\n                  </a>\n                  .\n                </h2>\n                <Link\n                  className=\"px-8 py-4 mx-auto my-4 mt-12 text-white uppercase transition border-2 border-white font-heading hover:border-chalk-orange hover:bg-chalk-orange\"\n                  to=\"/\"\n                >\n                  Back home\n                </Link>\n              </div>\n            )}\n          </form>\n        </section>\n      </section>\n    </Layout>\n  );\n};\n\nexport default Contact;\n\nconst Image = styled.div`\n  min-height: 30vh;\n  clip-path: polygon(0% 80%, 100% 0%, 100% 100%, 0% 100%);\n  object-fit: cover;\n`;\n"],"sourceRoot":""}